<!doctype html>
<head>
	<meta charset="UTF-8">
	<style>
		body{
			position:absolute;
			left:35%;
			top:30%;
		}
		table{
			border-collapse:collapse;
		}
		td{
			height:100px;
			width:100px;
			text-align:center;
			font-size:85px;
		}
		#p11{
			border-bottom:1px solid black;
			border-right:1px solid black;
		}
		#p13{
			border-bottom:1px solid black;
			border-left:1px solid black;
		}
		#p22{
			border:1px solid black;
		}
		#p31{
			border-right:1px solid black;
			border-top:1px solid black;
		}
		#p33{
			border-left:1px solid black;
			border-top:1px solid black;
		}
		div{
			position:relative;
			right:300px;
		}
	</style>
	<script>
		var a=2;
		var b=2;
		var ifo=0;
		var tab=[];
		var tab2=[];
		var blokada=0;
		var znak=1;
		var id;
		var wygrana=0;
		/*
		var e;
		var f;
		var c;
		var d;
		var kontrol=0;
		for(var n=0;n<10;n++){
			kontrol=0;
			do{
				e=Math.random()*8+1;
				f=Math.random()*8+1;
				c=Math.floor(e);
				d=Math.floor(f);
				for(var n=0;n<10;n++){
					if(c==tab[n]&&d==tab2[n]){
						break;
					}else{
						if(n==9){
							ifo=1;
						}
					}
				}
			}while(ifo==1);
			tab.unshift(c);
			tab2.unshift(d);
		}
		
		
		for(var n=0;n<10;n++){
			document.write(tab[n]+"  ");
			document.write(tab2[n]+"<br>");
		}
		*/
		
		
		var kon=0;
		function klawisz(event) {
			aaa();
			id=""+a+b;
			if(blokada==0){
				if(kon==1){
					document.getElementById("p"+a+b).innerHTML="O";
					kon=0;
				}
				if(kon==2){
					document.getElementById("p"+a+b).innerHTML="X";
					kon=0;
				}
				var x = event.key;
				var z=document.getElementById("p"+a+b).textContent;
				if(z==="O"||z=="X"){
				}else{
					document.getElementById("p"+a+b).innerHTML="";
				}
				
				if(x=="Enter"){
					if(z==""){
						if(znak%2==0){
							document.getElementById("p"+a+b).innerHTML="O";
							tab.push(id);
						}else{
							document.getElementById("p"+a+b).innerHTML="X";
							tab2.push(id);
						}
						znak++;
						if(tab.indexOf("11")>=0&&tab.indexOf("12")>=0&&tab.indexOf("13")>=0){
							alert("Wygrało kółko");
							wygrana=1;
						}
						if(tab.indexOf("11")>=0&&tab.indexOf("22")>=0&&tab.indexOf("33")>=0){
							alert("Wygrało kółko");
							wygrana=1;
						}
						if(tab.indexOf("11")>=0&&tab.indexOf("21")>=0&&tab.indexOf("31")>=0){
							alert("Wygrało kółko");
							wygrana=1;
						}
						if(tab.indexOf("12")>=0&&tab.indexOf("22")>=0&&tab.indexOf("32")>=0){
							alert("Wygrało kółko");
							wygrana=1;
						}
						if(tab.indexOf("21")>=0&&tab.indexOf("22")>=0&&tab.indexOf("23")>=0){
							alert("Wygrało kółko");
							wygrana=1;
						}
						if(tab.indexOf("13")>=0&&tab.indexOf("22")>=0&&tab.indexOf("31")>=0){
							alert("Wygrało kółko");
							wygrana=1;
						}
						if(tab.indexOf("31")>=0&&tab.indexOf("32")>=0&&tab.indexOf("33")>=0){
							alert("Wygrało kółko");
							wygrana=1;
						}
						if(tab.indexOf("13")>=0&&tab.indexOf("23")>=0&&tab.indexOf("33")>=0){
							alert("Wygrało kółko");
							wygrana=1;
						}
					
					
						if(tab2.indexOf("11")>=0&&tab2.indexOf("12")>=0&&tab2.indexOf("13")>=0){
							alert("Wygrał krzyżyk");
							wygrana=1;
						}
						if(tab2.indexOf("11")>=0&&tab2.indexOf("22")>=0&&tab2.indexOf("33")>=0){
							alert("Wygrał krzyżyk");
							wygrana=1;
						}
						if(tab2.indexOf("11")>=0&&tab2.indexOf("21")>=0&&tab2.indexOf("31")>=0){
							alert("Wygrał krzyżyk");
							wygrana=1;
						}
						if(tab2.indexOf("12")>=0&&tab2.indexOf("22")>=0&&tab2.indexOf("32")>=0){
							alert("Wygrał krzyżyk");
							wygrana=1;
						}
						if(tab2.indexOf("21")>=0&&tab2.indexOf("22")>=0&&tab2.indexOf("23")>=0){
							alert("Wygrał krzyżyk");
							wygrana=1;
						}
						if(tab2.indexOf("13")>=0&&tab2.indexOf("22")>=0&&tab2.indexOf("31")>=0){
							alert("Wygrał krzyżyk");
							wygrana=1;
						}
						if(tab2.indexOf("31")>=0&&tab2.indexOf("32")>=0&&tab2.indexOf("33")>=0){
							alert("Wygrał krzyżyk");
							wygrana=1;
						}
						if(tab2.indexOf("13")>=0&&tab2.indexOf("23")>=0&&tab2.indexOf("33")>=0){
							alert("Wygrał krzyżyk");
							wygrana=1;
						}
					}
					if(znak==10&&wygrana==0){
						alert("Nikt nie wygrał");
					}
				}	
				
				if(x=="ArrowLeft"){
					if(b==1){
					}else{
						b--;
						z=document.getElementById("p"+a+b).textContent;
					}
					if(z==="O"){
						document.getElementById("p"+a+b).innerHTML="*";
						kon=1;
					}else{
						document.getElementById("p"+a+b).innerHTML="*";
					}
					if(z==="X"){
						document.getElementById("p"+a+b).innerHTML="*";
						kon=2;
					}else{
						document.getElementById("p"+a+b).innerHTML="*";
					}
				}
				if(x=="ArrowRight"){
					if(b==3){	
					}else{
					b++;
					z=document.getElementById("p"+a+b).textContent;
					}
					if(z==="O"){
						document.getElementById("p"+a+b).innerHTML="*";
						kon=1;
					}else{
						document.getElementById("p"+a+b).innerHTML="*";
					}
					if(z==="X"){
						document.getElementById("p"+a+b).innerHTML="*";
						kon=2;
					}else{
						document.getElementById("p"+a+b).innerHTML="*";
					}
				}
				if(x=="ArrowUp"){
					if(a==1){
					}else{
						a--;
						z=document.getElementById("p"+a+b).textContent;
					}
					if(z==="O"){
						document.getElementById("p"+a+b).innerHTML="*";
						kon=1;
					}else{
						document.getElementById("p"+a+b).innerHTML="*";
					}
					if(z==="X"){
						document.getElementById("p"+a+b).innerHTML="*";
						kon=2;
					}else{
						document.getElementById("p"+a+b).innerHTML="*";
					}
				}
				if(x=="ArrowDown"){
					if(a==3){	
					}else{
						a++;
						z=document.getElementById("p"+a+b).textContent;
					}
					if(z==="O"){
						document.getElementById("p"+a+b).innerHTML="*";
						kon=1;
					}else{
						document.getElementById("p"+a+b).innerHTML="*";
					}
					if(z==="X"){
						document.getElementById("p"+a+b).innerHTML="*";
						kon=2;
					}else{
						document.getElementById("p"+a+b).innerHTML="*";
					}
				}
			}
		}
		
		function aaa(){
			document.getElementById("button").innerHTML='<button onclick="reset()">RESET</button>'
		}
		function reset(){
			history.go(0);
		}
	</script>
	
</head>
<body onkeydown="klawisz(event)">
	<table>
		<tr>
			<td id="p11"></td>
			<td id="p12"></td>
			<td id="p13"></td>
		</tr>
		<tr>
			<td id="p21"></td>
			<td id="p22"></td>
			<td id="p23"></td>
		</tr>
		<tr>
			<td id="p31"></td>
			<td id="p32"></td>
			<td id="p33"></td>
		</tr>
	</table>
	<br>
	<br>
	<p id="button"></p>
	<br>
	<br>
	<div>
		<h1>Zasady</h1>
		<p>Gwiazdka wskazuje pozycje kursora. Aby nadać polu znak należy wcisnąć Enter oraz potwierdzić wybór ponownie klikając Enter. Pierwszy zaczyna krzyżyk. Powodzenia!</p>
	</div>
</body>
</html>